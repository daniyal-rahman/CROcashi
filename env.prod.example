# NCFD Production Environment Configuration
# Copy this file to .env.prod and update with your actual production values
# NEVER commit .env.prod to version control

# --- App profile ---
CONFIG_PROFILE=prod

# --- Production Database Configuration ---
POSTGRES_DSN=postgresql+psycopg2://ncfd_prod:${POSTGRES_PASSWORD}@db:5432/ncfd_prod
POSTGRES_USER=ncfd_prod
POSTGRES_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD
POSTGRES_DB=ncfd_prod
POSTGRES_HOST_PORT=5432

# --- Production Redis Configuration ---
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD
REDIS_DB=0

# --- Production DuckDB Configuration ---
DUCKDB_PATH=/app/data/duckdb/analytics.duckdb

# --- Production Storage Configuration ---
STORAGE_TYPE=s3
LOCAL_STORAGE_ROOT=/app/data/raw
LOCAL_STORAGE_MAX_GB=100
LOCAL_STORAGE_FALLBACK_S3=true

# --- Production S3/MinIO Configuration ---
S3_ENDPOINT_URL=http://minio:9000
S3_REGION=us-east-1
S3_BUCKET=ncfd-prod-raw
S3_ACCESS_KEY=CHANGE_ME_TO_SECURE_ACCESS_KEY
S3_SECRET_KEY=CHANGE_ME_TO_SECURE_SECRET_KEY
S3_USE_SSL=false
S3_PORT=9000
S3_CONSOLE_PORT=9001

# --- Production External API Configuration ---
UNPAYWALL_EMAIL=prod@yourcompany.com
OPENALEX_EMAIL=prod@yourcompany.com
SEC_USER_AGENT=ncfd-prod-bot prod@yourcompany.com
NCBI_TOOL=ncfd-prod
NCBI_EMAIL=prod@yourcompany.com

# --- Production LangExtract Configuration ---
LANGEXTRACT_API_KEY_GEMINI=CHANGE_ME_TO_SECURE_API_KEY

# --- Production API Configuration ---
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_MAX_REQUESTS=1000
API_MAX_REQUESTS_PER_WORKER=250

# --- Production Monitoring Configuration ---
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD
PROMETHEUS_RETENTION_DAYS=30

# --- Production Security Configuration ---
SECRET_KEY=CHANGE_ME_TO_SECURE_SECRET_KEY_AT_LEAST_32_CHARS
JWT_SECRET_KEY=CHANGE_ME_TO_SECURE_JWT_SECRET_AT_LEAST_32_CHARS
ENCRYPTION_KEY=CHANGE_ME_TO_SECURE_ENCRYPTION_KEY_AT_LEAST_32_CHARS

# --- Production Logging Configuration ---
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=/app/logs/ncfd.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5

# --- Production Performance Configuration ---
WORKER_PROCESSES=4
WORKER_THREADS=2
MAX_CONCURRENT_TRIALS=100
BATCH_SIZE=50
CACHE_TTL=3600

# --- Production Backup Configuration ---
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=ncfd-prod-backups

# --- Production Alerting Configuration ---
ALERT_EMAIL_ENABLED=true
ALERT_EMAIL_SMTP_HOST=smtp.yourcompany.com
ALERT_EMAIL_SMTP_PORT=587
ALERT_EMAIL_USERNAME=alerts@yourcompany.com
ALERT_EMAIL_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD
ALERT_EMAIL_FROM=alerts@yourcompany.com
ALERT_EMAIL_TO=ops@yourcompany.com

# --- Production Slack Integration ---
SLACK_WEBHOOK_URL=CHANGE_ME_TO_SLACK_WEBHOOK_URL
SLACK_CHANNEL=#ncfd-alerts

# --- Production Health Check Configuration ---
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# --- Production Rate Limiting ---
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=1000
RATE_LIMIT_BURST_SIZE=100

# --- Production Caching Configuration ---
CACHE_ENABLED=true
CACHE_BACKEND=redis
CACHE_TTL_DEFAULT=3600
CACHE_TTL_SIGNALS=1800
CACHE_TTL_GATES=1800
CACHE_TTL_SCORES=3600
